(()=>{"use strict";var e={928:(e,t)=>{function o(e){return/^[1-9](\d*)(\.[0-9]{0,2})?[hms]$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSecond=t.checkTimeFormat=t.formateDate=void 0,String.prototype.p2=function(){return this.padStart(2,"0")},t.formateDate=function(e,t){let{d:o,h:n,m:r,s:a,ms:i}=function(e){let t=e/1e3,o=t/60,n=o/60,r=n/24;return t=t%60|0,o=o%60|0,n=n%24|0,r|=0,r=r>0?r:0,n=n>0?n:0,o=o>0?o:0,{d:r,h:n,m:o,s:t,ms:e%1e3}}(1e3*t);return"ss"===e?`${a+60*r+60*n*60+24*o*60*60}`.p2()+"s":"mm"===e?`${r+60*n+24*o*60}`.p2()+"m":"mm:ss"===e?`${r+60*n+24*o*60}`.p2()+":"+`${a}`.p2():"HH:mm"===e?`${n}`.p2()+":"+`${r+60*n+24*o*60}`.p2():"HH:mm:ss"===e?`${n}`.p2()+":"+`${r}`.p2()+":"+`${a}`.p2():e},t.checkTimeFormat=o,t.getSecond=function(e){if(!o(e))return 0;let t=e.slice(-1),n=e.match(/^[1-9](\d*)(\.[0-9]{0,2})?/);if(!n)return 0;let r=parseFloat(n[0]);return"s"===t?r:"m"===t?60*r:"h"===t?60*r*60:0}},496:e=>{e.exports=require("vscode")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=o(496);let r;const a=o(928);let i=null,s=0,c=!0;const m="$(close) Cancel timer",u="$(clock) Reset timer",g='Please input a valid time, such as "20m", "1h", "30s"';e.activate=function(e){const{subscriptions:o}=e;let{format:n,workingTime:d,breakingTime:p,showInformation:f,message:l,priority:h}=t.workspace.getConfiguration("20-20-20");(0,a.checkTimeFormat)(d)&&(0,a.checkTimeFormat)(p)||t.window.showInformationMessage(g),s=(0,a.getSecond)(d)||1200;let w=t.commands.registerCommand("20-20-20.start",(()=>{S()})),k=t.commands.registerCommand("20-20-20.cancel",(()=>{T()})),v=t.commands.registerCommand("20-20-20.restart",(()=>{$()})),C=t.commands.registerCommand("20-20-20._timer-click",(async()=>{const e=await t.window.showQuickPick([m,u],{canPickMany:!1});e&&(e===m?T():e===u&&$())}));function I(){let e=(0,a.formateDate)(n,s);if(r.text=e,0===s&&c&&f&&t.window.showInformationMessage(l,"Got It!"),0===s)return s=(0,a.getSecond)(c?p:d),void(c=!c);s--,r.show()}function S(){i||(i=setInterval(I,1e3),r.show())}function $(){c=!0,clearInterval(i),s=(0,a.getSecond)(d),I(),i=setInterval(I,1e3),r.show()}function T(){i&&(clearInterval(i),i=null,r.hide())}r=t.window.createStatusBarItem(t.StatusBarAlignment.Right,h),r.command="20-20-20._timer-click",S(),o.push(r),o.push(w),o.push(k),o.push(v),o.push(C),o.push(t.workspace.onDidChangeConfiguration((e=>{if(e.affectsConfiguration("20-20-20")){n=t.workspace.getConfiguration("20-20-20").get("format"),d=t.workspace.getConfiguration("20-20-20").get("workingTime"),p=t.workspace.getConfiguration("20-20-20").get("breakingTime"),(0,a.checkTimeFormat)(d)&&(0,a.checkTimeFormat)(p)?s=(0,a.getSecond)(c?d:p):t.window.showInformationMessage(g),f=t.workspace.getConfiguration("20-20-20").get("showInformation"),l=t.workspace.getConfiguration("20-20-20").get("message");let e=t.workspace.getConfiguration("20-20-20").get("priority");e!==h&&(r.dispose(),r=t.window.createStatusBarItem(t.StatusBarAlignment.Right,e),o.push(r))}})))},e.deactivate=function(){clearInterval(i)}})(),module.exports=n})();